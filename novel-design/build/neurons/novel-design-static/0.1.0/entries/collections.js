!function(){function t(t,n){for(var e in n)t[e]=n[e];return t}var n="novel-design-static@0.1.0/entries/collections.js",e="novel-design-static@0.1.0/entries/detail.js",i="novel-design-static@0.1.0/entries/index.js",o="seaport-bridge@^0.2.2",s="zepto@^1.1.3",r="fastclick@^1.0.2",a="novel-design-static@0.1.0/lib/common.js",d="spin.js@^2.0.1",c=[n,e,i],l={},m=l;define(n,[o,s,r,a],function(t){function n(){c.spin(document.body),r(".spinner").css({position:"fixed"})}function e(){c.stop()}function i(t){r(".error .txt").text(t),r(".error").removeClass("hide")}function o(t){function o(){var o=(m-1)*f,a=o+f,c=u.slice(o,a);n(),t.http.get({domain:d.domain,path:"/api/design/list",params:{ids:JSON.stringify(c)}},function(t){return e(),t?(m++,t.forEach(function(t){s(t)}),u.length>f&&r(".more").removeClass("hide"),void 0):(d.alert("网络连接错误"),i(),void 0)})}function s(n){var e=r(l.html());return e.find(".title").text(n.title),e.find(".description").text(n.description),e.find(".likes .txt").text(n.favs||0),e.on("click",function(){t.data.send({segue:"detail",data:n})}),e.appendTo(c),a(e[0]),e.find(".thumb img")[0].onload=function(){this.style.opacity=1,e.find(".loading").addClass("hide"),setTimeout(function(){e.find(".likes").css("opacity",1)},1300)},e.find(".thumb img").attr("src",n.thumb),e}var c=r(".design-list"),l=r(".design-template"),m=1,f=8,u=[];t.userDefaults.get("favs",function(t){u=t||[],0==u.length&&i("还没有任何收藏哦"),o(u)}),r(".more").on("click",function(){o()})}var s=t("seaport-bridge"),r=t("zepto"),a=t("fastclick"),d=t("../lib/common"),c=d.spinner;s.connect(function(){},o)},{entries:c,map:t({"../lib/common":a},m)}),define(a,[d],function(t,n){var e=t("spin.js");n.domain="106.187.100.229:8090",n.alert=function(t){var n=document.createElement("IFRAME");n.setAttribute("src","data:text/plain,"),document.documentElement.appendChild(n),window.frames[0].window.alert(t),n.parentNode.removeChild(n)},n.prompt=function(t){var n=document.createElement("IFRAME");n.setAttribute("src","data:text/plain,"),document.documentElement.appendChild(n);var e=window.frames[0].window.prompt(t);return n.parentNode.removeChild(n),e},n.spinner=new e({color:"#111111",lines:12,length:9,width:2})},{entries:c,map:m})}();